<div class="home-container p-4 md:p-8 max-w-7xl mx-auto">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8">
    <!-- Bloque Izquierdo - Inscribirse -->
    @if (eventosProximos.length > 0 ) {
    <div class="bg-white space-y-3 p-4 md:p-6 rounded-lg shadow-md">
      <h2 class="text-xl md:text-2xl font-bold mb-3 md:mb-4 text-gray-800">
        Inscribete al siguiente evento
      </h2>
      <div
        class="border-l-4 border-blue-400 pl-3 md:pl-4 py-2 cursor-pointer hover:bg-gray-50 transition-colors rounded-r"
        (click)="abrirModalEvento(eventosProximos[0])"
      >
        <p class="font-semibold text-gray-800 text-sm md:text-base">
          {{ eventosProximos[0].fechaEvento }} - Evento
          {{ eventosProximos[0].idEvento }}
        </p>
      </div>
      <button
        (click)="abrirModalEvento(eventosProximos[0], true)"
        class="w-full md:w-auto bg-blue-400 text-black px-4 md:px-6 py-2 rounded hover:bg-blue-500 cursor-pointer font-semibold"
      >
        Inscribirme al evento
      </button>
    </div>
    }

    <!-- Bloque Derecho - Proximos Eventos -->
    <div class="bg-white p-4 md:p-6 rounded-lg shadow-md">
      <h2 class="text-xl md:text-2xl font-bold mb-4 md:mb-6 text-gray-800">
        Proximos Eventos
      </h2>
      <div class="space-y-3 md:space-y-4">
        @if (eventosProximos.length>0){ @for (evento of
        eventosProximos.slice(0,3); track evento.idEvento) {
        <div
          class="border-l-4 border-blue-400 pl-3 md:pl-4 py-2 cursor-pointer hover:bg-gray-50 transition-colors rounded-r"
          (click)="abrirModalEvento(evento)"
        >
          <p class="font-semibold text-gray-800 text-sm md:text-base">
            {{ evento.fechaEvento }} - Evento {{ evento.idEvento }}
          </p>
        </div>
        } } @else {
        <div class="flex items-center justify-center py-6 md:py-8">
          <div class="loader mr-3"></div>
          <span class="text-gray-600 font-semibold text-sm md:text-base"
            >Buscando eventos...</span
          >
        </div>
        }
      </div>
    </div>
    <div class="contenedor-principal col-span-1 md:col-span-2">
      <h1 class="text-xl md:text-2xl font-bold mb-3 md:mb-4 text-gray-800">
        Calendario de eventos
      </h1>
      @if (eventosProximos.length > 0){
      <app-calendario
        [eventosRecibidos]="eventosCalendario"
        (eventoSeleccionado)="abrirModalEvento($event)"
      >
      </app-calendario>
      } @else {
      <div class="flex items-center justify-center py-6 md:py-8">
        <div class="loader mr-3"></div>
        <span class="text-gray-600 font-semibold text-sm md:text-base"
          >Buscando eventos...</span
        >
      </div>
      }
    </div>
  </div>
</div>

<!-- Modal para mostrar detalles del evento -->
<app-detalles
  [evento]="eventoSeleccionado"
  [mostrar]="mostrarModal && eventoSeleccionado !== undefined"
  [mostrarFormularioInmediato]="mostrarFormularioInmediato"
  (cerrar)="cerrarModal()"
></app-detalles>
